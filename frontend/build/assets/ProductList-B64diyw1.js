var er=Object.defineProperty;var Ne=e=>{throw TypeError(e)};var rr=(e,r,s)=>r in e?er(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;var te=(e,r,s)=>rr(e,typeof r!="symbol"?r+"":r,s),ne=(e,r,s)=>r.has(e)||Ne("Cannot "+s);var i=(e,r,s)=>(ne(e,r,"read from private field"),s?s.call(e):r.get(e)),y=(e,r,s)=>r.has(e)?Ne("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,s),v=(e,r,s,n)=>(ne(e,r,"write to private field"),n?n.call(e,s):r.set(e,s),s),b=(e,r,s)=>(ne(e,r,"access private method"),s);import{dL as sr,dM as _e,dN as O,dO as ie,dP as H,dQ as tr,dR as ae,dS as Re,dT as nr,dU as ir,dV as ar,dW as ke,dX as Ve,r as k,dY as or,dZ as lr,d_ as pe,d$ as cr,e0 as hr,e1 as dr,e2 as ur,e3 as We,e4 as ze,e5 as Ke,q as ve,e6 as mr,j as t,at as Ze,au as A,cg as fr,e7 as gr,aH as Xe,e8 as M,L as T,d as $,e9 as xr,ea as pr,eb as vr,ec as br,ed as yr,ee as wr,ef as jr,eg as Nr,eh as _r,ei as Rr,aD as kr,ej as Pr,ek as Tr,el as Lr,aE as Er}from"./index-BcxyKQIP.js";import{i as Or,C as Pe,o as Ar,l as Mr}from"./ClassicLayout-fQzh7gUg.js";import{l as Fr}from"./lodash-CWYnXvfC.js";var N,u,J,j,D,W,U,E,C,z,K,Q,q,B,Z,f,Y,oe,le,ce,he,de,ue,me,Ye,Ge,Ir=(Ge=class extends sr{constructor(r,s){super();y(this,f);y(this,N);y(this,u);y(this,J);y(this,j);y(this,D);y(this,W);y(this,U);y(this,E);y(this,C);y(this,z);y(this,K);y(this,Q);y(this,q);y(this,B);y(this,Z,new Set);this.options=s,v(this,N,r),v(this,E,null),v(this,U,_e()),this.options.experimental_prefetchInRender||i(this,U).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,u).addObserver(this),Te(i(this,u),this.options)?b(this,f,Y).call(this):this.updateResult(),b(this,f,he).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return fe(i(this,u),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return fe(i(this,u),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,b(this,f,de).call(this),b(this,f,ue).call(this),i(this,u).removeObserver(this)}setOptions(r,s){const n=this.options,a=i(this,u);if(this.options=i(this,N).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof O(this.options.enabled,i(this,u))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");b(this,f,me).call(this),i(this,u).setOptions(this.options),n._defaulted&&!ie(this.options,n)&&i(this,N).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,u),observer:this});const l=this.hasListeners();l&&Le(i(this,u),a,this.options,n)&&b(this,f,Y).call(this),this.updateResult(s),l&&(i(this,u)!==a||O(this.options.enabled,i(this,u))!==O(n.enabled,i(this,u))||H(this.options.staleTime,i(this,u))!==H(n.staleTime,i(this,u)))&&b(this,f,oe).call(this);const o=b(this,f,le).call(this);l&&(i(this,u)!==a||O(this.options.enabled,i(this,u))!==O(n.enabled,i(this,u))||o!==i(this,B))&&b(this,f,ce).call(this,o)}getOptimisticResult(r){const s=i(this,N).getQueryCache().build(i(this,N),r),n=this.createResult(s,r);return Br(this,n)&&(v(this,j,n),v(this,W,this.options),v(this,D,i(this,u).state)),n}getCurrentResult(){return i(this,j)}trackResult(r,s){const n={};return Object.keys(r).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),s==null||s(a),r[a])})}),n}trackProp(r){i(this,Z).add(r)}getCurrentQuery(){return i(this,u)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const s=i(this,N).defaultQueryOptions(r),n=i(this,N).getQueryCache().build(i(this,N),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(r){return b(this,f,Y).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),i(this,j)))}createResult(r,s){var je;const n=i(this,u),a=this.options,l=i(this,j),o=i(this,D),c=i(this,W),d=r!==n?r.state:i(this,J),{state:m}=r;let g={...m},x=!1,p;if(s._optimisticResults){const w=this.hasListeners(),G=!w&&Te(r,s),V=w&&Le(r,n,s,a);(G||V)&&(g={...g,...ar(m.data,r.options)}),s._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:X,errorUpdatedAt:I,status:F}=g;if(s.select&&g.data!==void 0)if(l&&g.data===(o==null?void 0:o.data)&&s.select===i(this,C))p=i(this,z);else try{v(this,C,s.select),p=s.select(g.data),p=ke(l==null?void 0:l.data,p,s),v(this,z,p),v(this,E,null)}catch(w){v(this,E,w)}else p=g.data;if(s.placeholderData!==void 0&&p===void 0&&F==="pending"){let w;if(l!=null&&l.isPlaceholderData&&s.placeholderData===(c==null?void 0:c.placeholderData))w=l.data;else if(w=typeof s.placeholderData=="function"?s.placeholderData((je=i(this,K))==null?void 0:je.state.data,i(this,K)):s.placeholderData,s.select&&w!==void 0)try{w=s.select(w),v(this,E,null)}catch(G){v(this,E,G)}w!==void 0&&(F="success",p=ke(l==null?void 0:l.data,w,s),x=!0)}i(this,E)&&(X=i(this,E),p=i(this,z),I=Date.now(),F="error");const ee=g.fetchStatus==="fetching",re=F==="pending",se=F==="error",ye=re&&ee,we=p!==void 0,L={status:F,fetchStatus:g.fetchStatus,isPending:re,isSuccess:F==="success",isError:se,isInitialLoading:ye,isLoading:ye,data:p,dataUpdatedAt:g.dataUpdatedAt,error:X,errorUpdatedAt:I,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>d.dataUpdateCount||g.errorUpdateCount>d.errorUpdateCount,isFetching:ee,isRefetching:ee&&!re,isLoadingError:se&&!we,isPaused:g.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:se&&we,isStale:be(r,s),refetch:this.refetch,promise:i(this,U)};if(this.options.experimental_prefetchInRender){const w=S=>{L.status==="error"?S.reject(L.error):L.data!==void 0&&S.resolve(L.data)},G=()=>{const S=v(this,U,L.promise=_e());w(S)},V=i(this,U);switch(V.status){case"pending":r.queryHash===n.queryHash&&w(V);break;case"fulfilled":(L.status==="error"||L.data!==V.value)&&G();break;case"rejected":(L.status!=="error"||L.error!==V.reason)&&G();break}}return L}updateResult(r){const s=i(this,j),n=this.createResult(i(this,u),this.options);if(v(this,D,i(this,u).state),v(this,W,this.options),i(this,D).data!==void 0&&v(this,K,i(this,u)),ie(n,s))return;v(this,j,n);const a={},l=()=>{if(!s)return!0;const{notifyOnChangeProps:o}=this.options,c=typeof o=="function"?o():o;if(c==="all"||!c&&!i(this,Z).size)return!0;const h=new Set(c??i(this,Z));return this.options.throwOnError&&h.add("error"),Object.keys(i(this,j)).some(d=>{const m=d;return i(this,j)[m]!==s[m]&&h.has(m)})};(r==null?void 0:r.listeners)!==!1&&l()&&(a.listeners=!0),b(this,f,Ye).call(this,{...a,...r})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&b(this,f,he).call(this)}},N=new WeakMap,u=new WeakMap,J=new WeakMap,j=new WeakMap,D=new WeakMap,W=new WeakMap,U=new WeakMap,E=new WeakMap,C=new WeakMap,z=new WeakMap,K=new WeakMap,Q=new WeakMap,q=new WeakMap,B=new WeakMap,Z=new WeakMap,f=new WeakSet,Y=function(r){b(this,f,me).call(this);let s=i(this,u).fetch(this.options,r);return r!=null&&r.throwOnError||(s=s.catch(tr)),s},oe=function(){b(this,f,de).call(this);const r=H(this.options.staleTime,i(this,u));if(ae||i(this,j).isStale||!Re(r))return;const n=nr(i(this,j).dataUpdatedAt,r)+1;v(this,Q,setTimeout(()=>{i(this,j).isStale||this.updateResult()},n))},le=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,u)):this.options.refetchInterval)??!1},ce=function(r){b(this,f,ue).call(this),v(this,B,r),!(ae||O(this.options.enabled,i(this,u))===!1||!Re(i(this,B))||i(this,B)===0)&&v(this,q,setInterval(()=>{(this.options.refetchIntervalInBackground||ir.isFocused())&&b(this,f,Y).call(this)},i(this,B)))},he=function(){b(this,f,oe).call(this),b(this,f,ce).call(this,b(this,f,le).call(this))},de=function(){i(this,Q)&&(clearTimeout(i(this,Q)),v(this,Q,void 0))},ue=function(){i(this,q)&&(clearInterval(i(this,q)),v(this,q,void 0))},me=function(){const r=i(this,N).getQueryCache().build(i(this,N),this.options);if(r===i(this,u))return;const s=i(this,u);v(this,u,r),v(this,J,r.state),this.hasListeners()&&(s==null||s.removeObserver(this),r.addObserver(this))},Ye=function(r){Ve.batch(()=>{r.listeners&&this.listeners.forEach(s=>{s(i(this,j))}),i(this,N).getQueryCache().notify({query:i(this,u),type:"observerResultsUpdated"})})},Ge);function Ur(e,r){return O(r.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&r.retryOnMount===!1)}function Te(e,r){return Ur(e,r)||e.state.data!==void 0&&fe(e,r,r.refetchOnMount)}function fe(e,r,s){if(O(r.enabled,e)!==!1){const n=typeof s=="function"?s(e):s;return n==="always"||n!==!1&&be(e,r)}return!1}function Le(e,r,s,n){return(e!==r||O(n.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&be(e,s)}function be(e,r){return O(r.enabled,e)!==!1&&e.isStaleByTime(H(r.staleTime,e))}function Br(e,r){return!ie(e.getCurrentResult(),r)}var Je=k.createContext(!1),$r=()=>k.useContext(Je);Je.Provider;function Dr(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Qr=k.createContext(Dr()),qr=()=>k.useContext(Qr);function Gr(e,r){return typeof e=="function"?e(...r):!!e}function Vr(){}var Wr=(e,r)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(r.isReset()||(e.retryOnMount=!1))},zr=e=>{k.useEffect(()=>{e.clearReset()},[e])},Kr=({result:e,errorResetBoundary:r,throwOnError:s,query:n})=>e.isError&&!r.isReset()&&!e.isFetching&&n&&Gr(s,[e.error,n]),Zr=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Xr=(e,r)=>e.isLoading&&e.isFetching&&!r,Yr=(e,r)=>(e==null?void 0:e.suspense)&&r.isPending,Ee=(e,r,s)=>r.fetchOptimistic(e).catch(()=>{s.clearReset()});function Jr(e,r,s){var m,g,x,p,X;const n=or(),a=$r(),l=qr(),o=n.defaultQueryOptions(e);(g=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||g.call(m,o),o._optimisticResults=a?"isRestoring":"optimistic",Zr(o),Wr(o,l),zr(l);const c=!n.getQueryCache().get(o.queryHash),[h]=k.useState(()=>new r(n,o)),d=h.getOptimisticResult(o);if(k.useSyncExternalStore(k.useCallback(I=>{const F=a?()=>{}:h.subscribe(Ve.batchCalls(I));return h.updateResult(),F},[h,a]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),k.useEffect(()=>{h.setOptions(o,{listeners:!1})},[o,h]),Yr(o,d))throw Ee(o,h,l);if(Kr({result:d,errorResetBoundary:l,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw d.error;if((p=(x=n.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||p.call(x,o,d),o.experimental_prefetchInRender&&!ae&&Xr(d,a)){const I=c?Ee(o,h,l):(X=n.getQueryCache().get(o.queryHash))==null?void 0:X.promise;I==null||I.catch(Vr).finally(()=>{h.updateResult()})}return o.notifyOnChangeProps?d:h.trackResult(d)}function Oe(e,r){return Jr(e,Ir)}var Cr="Expected a function";function Sr(e){if(typeof e!="function")throw new TypeError(Cr);return function(){var r=arguments;switch(r.length){case 0:return!e.call(this);case 1:return!e.call(this,r[0]);case 2:return!e.call(this,r[0],r[1]);case 3:return!e.call(this,r[0],r[1],r[2])}return!e.apply(this,r)}}var Hr=Sr,es=lr,rs=pe,ss=cr,Ae=hr,ts=dr;function ns(e,r,s,n){if(!Ae(e))return e;r=rs(r,e);for(var a=-1,l=r.length,o=l-1,c=e;c!=null&&++a<l;){var h=ts(r[a]),d=s;if(h==="__proto__"||h==="constructor"||h==="prototype")return e;if(a!=o){var m=c[h];d=n?n(m,h,c):void 0,d===void 0&&(d=Ae(m)?m:ss(r[a+1])?[]:{})}es(c,h,d),c=c[h]}return e}var is=ns,as=ur,os=is,ls=pe;function cs(e,r,s){for(var n=-1,a=r.length,l={};++n<a;){var o=r[n],c=as(e,o);s(c,o)&&os(l,ls(o,e),c)}return l}var hs=cs,ds=We,us=ze,ms=hs,fs=Ke;function gs(e,r){if(e==null)return{};var s=ds(fs(e),function(n){return[n]});return r=us(r),ms(e,s,function(n,a){return r(n,a[0])})}var xs=gs,ps=ze,vs=Hr,bs=xs;function ys(e,r){return bs(e,vs(ps(r)))}var ws=ys;const js=ve(ws);function Ns(e){return e===void 0}var _s=Ns;const Rs=ve(_s);function ks(){const[e]=mr();return Object.fromEntries([...e])}function Ps(){const e=ks();return js({page:e.page||"1",limit:e.limit||"20",sort_by:e.sort_by,exclude:e.exclude,name:e.name,order:e.order,price_max:e.price_max,price_min:e.price_min,rating_filter:e.rating_filter,category:e.category},Rs)}const Me=k.forwardRef(function({errorMessage:r,className:s,classNameInput:n="p-3 w-full outline-none border border-gray-300 focus:border-gray-500 rounded-sm focus:shadow-sm",classNameError:a="mt-1 text-red-600 min-h-[1.25rem] text-sm",onChange:l,value:o,...c},h){const[d,m]=k.useState(o),g=x=>{const{value:p}=x.target;(/^\d+$/.test(p)||p==="")&&(l&&l(x),m(p))};return t.jsxs("div",{className:s,children:[t.jsx("input",{className:n,onChange:g,value:o===void 0?d:o,...c,ref:h}),t.jsx("div",{className:a,children:r})]})});function Fe(e){const{className:r,isLoading:s,disabled:n,children:a,...l}=e,o=`${r||""}${n||s?" cursor-not-allowed":""}`;return t.jsxs("button",{className:o,disabled:n,...l,children:[s&&t.jsxs("svg",{"aria-hidden":"true",className:"w-4 h-4 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),t.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),t.jsx("span",{children:a})]})}function Ie(){const{price_max:e,price_min:r}=this.parent;return r!==""&&e!==""?Number(e)>=Number(r):r!==""||e!==""}const Ce=e=>A().required("Nhập lại password là bắt buộc").min(6,"Độ dài từ 6 - 160 ký tự").max(160,"Độ dài từ 6 - 160 ký tự").oneOf([gr(e)],"Nhập lại password không khớp"),ge=Ze({email:A().required("Email là bắt buộc").email("Email không đúng định dạng").min(5,"Độ dài từ 5 - 160 ký tự").max(160,"Độ dài từ 5 - 160 ký tự"),password:A().required("Password là bắt buộc").min(6,"Độ dài từ 6 - 160 ký tự").max(160,"Độ dài từ 6 - 160 ký tự"),confirm_password:Ce("password"),price_min:A().test({name:"price-not-allowed",message:"Giá không phù hợp",test:Ie}),price_max:A().test({name:"price-not-allowed",message:"Giá không phù hợp",test:Ie}),name:A().trim().required("Tên sản phẩm là bắt buộc")});Ze({name:A().max(160,"Độ dài tối đa là 160 ký tự"),phone:A().max(20,"Độ dài tối đa là 20 ký tự"),address:A().max(160,"Độ dài tối đa là 160 ký tự"),avatar:A().max(1e3,"Độ dài tối đa là 1000 ký tự"),date_of_birth:fr().max(new Date,"Hãy chọn một ngày trong quá khứ"),password:ge.fields.password,new_password:ge.fields.password,confirm_password:Ce("new_password")});const P={home:"/",user:"/user",profile:"/user/profile",changePassword:"/user/password",historyPurchase:"/user/purchase",login:"/login",register:"/register",logout:"/logout",productDetail:":nameId",cart:"/cart"};function Ts({sizes:e=["S","M","L","XL"],activeClassname:r="p-4 bg-gray-600 text-white rounded-md",nonActiveClassname:s="p-4 bg-white text-black rounded-md border border-gray-300 shadow-sm"}){const[n,a]=k.useState(null),l=o=>{a(o)};return t.jsx("div",{className:"flex gap-2 ",children:e.map(o=>t.jsx("button",{onClick:()=>l(o),className:n===o?r:s,children:o},o))})}const Ls=ge.pick(["price_min","price_max"]);function Es({queryConfig:e,categories:r}){var g;const{category:s}=e,{control:n,handleSubmit:a,watch:l,formState:{errors:o},trigger:c}=Or({defaultValues:{price_min:"",price_max:""},resolver:Ar(Ls)}),h=Xe();l(),console.log(o);const d=a(x=>{h({pathname:P.home,search:M({...e,price_max:x.price_max,price_min:x.price_min}).toString()})}),m=()=>{h({pathname:P.home,search:M(Fr.omit({...e},["price_max","price_min","rating","rating_filter","category"])).toString()})};return t.jsx("div",{className:"py-4",children:t.jsxs("div",{children:[t.jsxs(T,{to:"/",className:$("relative px-2",{"text-orange font-semibold":!s}),children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3 h-4 mr-4 fill-current size-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 13.5V3.75m0 9.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 3.75V16.5m12-3V3.75m0 9.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 3.75V16.5m-6-9V3.75m0 3.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 9.75V10.5"})}),"Tất cả Danh mục"]}),t.jsxs("div",{className:"bg-gray-300 h-[1px] my-4",children:[t.jsx("ul",{children:r.map(x=>{const p=s===x._id;return t.jsx("li",{children:t.jsxs(T,{to:{pathname:P.home,search:M({...e,category:x._id}).toString()},className:$(" relative px-2 ",{"text-orange font-bold":p}),children:[p&&t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"fill-orange h-2 w-2 absolute top-1 left-[-10px] size-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"})}),x.name]})},x._id)})}),t.jsxs(T,{to:P.home,className:"flex items-center font-bold mt-4 uppercase",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3 h-4 fill-current mg-3 size-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})}),"Bộ lọc tìm kiếm"]}),t.jsx("div",{className:"bg-gray-300 h-[1px] my-4"}),t.jsxs("div",{className:"my-5",children:[t.jsx("div",{className:"",children:"Khoảng giá"}),t.jsxs("form",{action:"",className:"mt-2",onSubmit:d,children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx(Pe,{control:n,name:"price_min",render:({field:x})=>t.jsx(Me,{type:"text",placeholder:"Từ",classNameInput:"p-1 w-full outline-none border border-gray-300 focus:border-gray-500 rounded-sm",onChange:p=>{x.onChange(p),c("price_max")},value:x.value,classNameError:"hidden",ref:x.ref})}),t.jsx("div",{className:"mx-2 mt-2 shink-0",children:"-"}),t.jsx(Pe,{control:n,name:"price_max",render:({field:x})=>t.jsx(Me,{type:"text",placeholder:"Đến",classNameInput:"p-1 w-full outline-none border border-gray-300 focus:border-gray-500 rounded-sm",onChange:p=>{x.onChange(p),c("price_min")},value:x.value,ref:x.ref,classNameError:"hidden"})})]}),t.jsx("div",{className:"mt-1 text-red-600 min-h-[1.25rem] text-sm text-center",children:(g=o.price_min)==null?void 0:g.message}),t.jsx(Fe,{type:"submit",className:"w-full p-2 uppercase bg-orange-200 text-white text-sm hover:bg-orange-600 80 flex justify-center items-center",children:"Áp dụng"})]})]}),t.jsxs("div",{className:"bg-gray-300 h-[1px] my-4  ",children:[t.jsx("div",{className:"flex items-center justify-between border-b border-gray-300 pb-2 mb-4 p-4",children:t.jsx("span",{className:"text-lg font-bold uppercase text-gray-700",children:"Size"})}),t.jsx(Ts,{}),t.jsx(Fe,{onClick:m,type:"submit",className:"w-full p-2 my-2 uppercase bg-orange-200 text-white text-sm hover:bg-orange-600 80 flex justify-center items-center",children:"Xóa tất cả"})]})]})]})})}var Os=Mr;function As(e){return Os(e)?void 0:e}var Ms=As,Ue=xr,Fs=pr,Is=vr,Be=Ue?Ue.isConcatSpreadable:void 0;function Us(e){return Is(e)||Fs(e)||!!(Be&&e&&e[Be])}var Bs=Us,$s=br,Ds=Bs;function Se(e,r,s,n,a){var l=-1,o=e.length;for(s||(s=Ds),a||(a=[]);++l<o;){var c=e[l];r>0&&s(c)?r>1?Se(c,r-1,s,n,a):$s(a,c):n||(a[a.length]=c)}return a}var Qs=Se,qs=Qs;function Gs(e){var r=e==null?0:e.length;return r?qs(e,1):[]}var Vs=Gs;function Ws(e,r,s){switch(s.length){case 0:return e.call(r);case 1:return e.call(r,s[0]);case 2:return e.call(r,s[0],s[1]);case 3:return e.call(r,s[0],s[1],s[2])}return e.apply(r,s)}var zs=Ws,Ks=zs,$e=Math.max;function Zs(e,r,s){return r=$e(r===void 0?e.length-1:r,0),function(){for(var n=arguments,a=-1,l=$e(n.length-r,0),o=Array(l);++a<l;)o[a]=n[r+a];a=-1;for(var c=Array(r+1);++a<r;)c[a]=n[a];return c[r]=s(o),Ks(e,this,c)}}var Xs=Zs;function Ys(e){return function(){return e}}var Js=Ys,Cs=Js,De=yr,Ss=wr,Hs=De?function(e,r){return De(e,"toString",{configurable:!0,enumerable:!1,value:Cs(r),writable:!0})}:Ss,et=Hs,rt=800,st=16,tt=Date.now;function nt(e){var r=0,s=0;return function(){var n=tt(),a=st-(n-s);if(s=n,a>0){if(++r>=rt)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var it=nt,at=et,ot=it,lt=ot(at),ct=lt,ht=Vs,dt=Xs,ut=ct;function mt(e){return ut(dt(e,void 0,ht),e+"")}var ft=mt,gt=We,xt=_r,pt=jr,vt=pe,bt=Nr,yt=Ms,wt=ft,jt=Ke,Nt=1,_t=2,Rt=4,kt=wt(function(e,r){var s={};if(e==null)return s;var n=!1;r=gt(r,function(l){return l=vt(l,e),n||(n=l.length>1),l}),bt(e,jt(e),s),n&&(s=xt(s,Nt|_t|Rt,yt));for(var a=r.length;a--;)pt(s,r[a]);return s}),Pt=kt;const Tt=ve(Pt),_={createdAt:"createdAt",view:"view",sold:"sold",price:"price"},Qe={asc:"asc",desc:"desc"};function Lt({queryConfig:e,pageSize:r}){const s=Number(e.page),{sort_by:n=_.createdAt,order:a}=e,l=Xe(),o=d=>n===d,c=d=>{l({pathname:P.home,search:M(Tt({...e,sort_by:d},["order"])).toString()})},h=d=>{l({pathname:P.home,search:M({...e,sort_by:_.price,order:d}).toString()})};return t.jsx("div",{className:"bg-gray-300/40 py-4 px-3",children:t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx("div",{children:"Sắp xếp theo"}),t.jsx("button",{className:$("h-8 px-4 text-center text-sm capitalize ",{"bg-orange text-white hover:bg-orange/80":o(_.view),"bg-white text-black hover:bg-slate-100":!o(_.view)}),onClick:()=>c(_.view),children:"Phổ biến"}),t.jsx("button",{className:$("h-8 px-4 text-center text-sm capitalize ",{"bg-orange text-white hover:bg-orange/80":o(_.createdAt),"bg-white text-black hover:bg-slate-100":!o(_.createdAt)}),onClick:()=>c(_.createdAt),children:"Mới nhất"}),t.jsx("button",{className:$("h-8 px-4 text-center text-sm capitalize ",{"bg-orange text-white hover:bg-orange/80":o(_.sold),"bg-white text-black hover:bg-slate-100":!o(_.sold)}),onClick:()=>c(_.sold),children:"Bán chạy"}),t.jsxs("select",{className:$("h-8  px-4 text-left text-sm capitalize  outline-none ",{"bg-orange text-white hover:bg-orange/80":o(_.price),"bg-white text-black hover:bg-slate-100":!o(_.price)}),value:a||"",onChange:d=>h(d.target.value),children:[t.jsx("option",{value:"",disabled:!0,className:"bg-white text-black",children:"Giá"}),t.jsx("option",{value:Qe.asc,className:"bg-white text-black",children:"Giá: Thấp đến cao"}),t.jsx("option",{value:Qe.desc,className:"bg-white text-black",children:"Giá: Cao đến thấp"})]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-orange",children:s}),t.jsxs("span",{children:["/",r]})]}),t.jsxs("div",{className:"ml-2 flex",children:[s===1?t.jsx("span",{className:"flex h-8 w-9 cursor-not-allowed items-center justify-center rounded-tl-sm rounded-bl-sm bg-white/60  shadow hover:bg-slate-100",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-3 w-3",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}):t.jsx(T,{to:{pathname:P.home,search:M({...e,page:(s-1).toString()}).toString()},className:"flex h-8 w-9  items-center justify-center rounded-tl-sm rounded-bl-sm bg-white  shadow hover:bg-slate-100",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-3 w-3",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),s===r?t.jsx("span",{className:"flex h-8 w-9 cursor-not-allowed items-center justify-center rounded-tl-sm rounded-bl-sm bg-white/60  shadow hover:bg-slate-100",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-3 w-3",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})}):t.jsx(T,{to:{pathname:P.home,search:M({...e,page:(s+1).toString()}).toString()},className:"flex h-8 w-9  items-center justify-center rounded-tl-sm rounded-bl-sm bg-white  shadow hover:bg-slate-100",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-3 w-3",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})})]})]})]})})}const R=2;function Et({queryConfig:e,pageSize:r}){const s=Number(e.page),n=()=>{let a=!1,l=!1;const o=h=>l?null:(l=!0,t.jsx("span",{className:"mx-2 rounded border bg-white px-3 py-2 shadow-sm",children:"..."},h)),c=h=>a?null:(a=!0,t.jsx("span",{className:"mx-2 rounded border bg-white px-3 py-2 shadow-sm",children:"..."},h));return Array(r).fill(0).map((h,d)=>{const m=d+1;if(s<=R*2+1&&m>s+R&&m<r-R+1)return c(d);if(s>R*2+1&&s<r-R*2){if(m<s-R&&m>R)return o(d);if(m>s+R&&m<r-R+1)return c(d)}else if(s>=r-R*2&&m>R&&m<s-R)return o(d);return t.jsx(T,{to:{pathname:P.home,search:M({...e,page:m.toString()}).toString()},className:$("mx-2 cursor-pointer rounded border bg-white px-3 py-2 shadow-sm",{"border-cyan-500":m===s,"border-transparent":m!==s}),children:m},d)})};return t.jsxs("div",{className:"mt-6 flex flex-wrap justify-center",children:[s===1?t.jsx("span",{className:"mx-2 cursor-not-allowed rounded border bg-white/60 px-3 py-2  shadow-sm",children:"Prev"}):t.jsx(T,{to:{pathname:P.home,search:M({...e,page:(s-1).toString()}).toString()},className:"mx-2 cursor-pointer rounded border bg-white px-3 py-2  shadow-sm",children:"Prev"}),n(),s===r?t.jsx("span",{className:"mx-2 cursor-not-allowed rounded border bg-white/60 px-3 py-2  shadow-sm",children:"Next"}):t.jsx(T,{to:{pathname:P.home,search:M({...e,page:(s+1).toString()}).toString()},className:"mx-2 cursor-pointer rounded border bg-white px-3 py-2  shadow-sm",children:"Next"})]})}var He=(e=>(e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e))(He||{});function Ot(e){return new Intl.NumberFormat("de-DE").format(e)}const At=e=>e.replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'|\"|\&|\#|\[|\]|~|\$|_|`|-|{|}|\||\\/g,""),Mt=({name:e,id:r})=>At(e).replace(/\s/g,"-")+`-i-${r}`;function Ft({rating:e,activeClassname:r="h-3 w-3 fill-yellow-300 text-yellow-300",nonActiveClassname:s="h-3 w-3 fill-current text-gray-300"}){const n=a=>a<=e?"100%":a>e&&a-e<1?(e-Math.floor(e))*100+"%":"0%";return t.jsx("div",{className:"flex items-center",children:Array(5).fill(0).map((a,l)=>t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute top-0 left-0 h-full overflow-hidden",style:{width:n(l+1)},children:t.jsx("svg",{enableBackground:"new 0 0 15 15",viewBox:"0 0 15 15",x:0,y:0,className:r,children:t.jsx("polygon",{points:"7.5 .8 9.7 5.4 14.5 5.9 10.7 9.1 11.8 14.2 7.5 11.6 3.2 14.2 4.3 9.1 .5 5.9 5.3 5.4",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10})})}),t.jsx("svg",{enableBackground:"new 0 0 15 15",viewBox:"0 0 15 15",x:0,y:0,className:s,children:t.jsx("polygon",{points:"7.5 .8 9.7 5.4 14.5 5.9 10.7 9.1 11.8 14.2 7.5 11.6 3.2 14.2 4.3 9.1 .5 5.9 5.3 5.4",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10})})]},l))})}function It({product:e}){return t.jsx(T,{to:`${P.home}${Mt({name:e.name,id:e._id})} `,children:t.jsxs("div",{className:"overflow-hidden bg-white shadow rounded-sm hover:translate-y-[-0.0625rem] hover:shadow-md duration-100 transition-transform",children:[t.jsx("div",{className:"w-full pt-[100%] relative",children:t.jsx("img",{src:e.image,alt:e.name,className:"absolute top-0 left-0 bg-white w-full h-full object-cover"})}),t.jsxs("div",{className:"p-2  overflow-hidden",children:[t.jsxs("div",{className:"min-h-[1.75] line-clamp-2",children:[e.name,"          "]}),t.jsxs("div",{className:"flex items-center mt-3",children:[t.jsx("div",{className:"line-through max-w-[50%] truncate text-gray-500",children:Ot(e.price_before_discount)}),t.jsxs("div",{className:"text-orange truncate ml-1",children:[t.jsx("span",{className:"text-xs",children:"Đ"}),t.jsx("span",{children:e.price})]})]}),t.jsx("div",{className:"mt-3 flex items-center justify-end ",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ft,{rating:e.rating}),t.jsxs("div",{className:"ml-2 text-sm",children:[t.jsx("span",{children:e.sold}),t.jsx("span",{className:"ml-1",children:"Đã bán"})]})]})})]})]})})}class Ut{constructor(){te(this,"instance");te(this,"accesToken");this.accesToken=Rr(),this.instance=kr.create({baseURL:"http://localhost:8080/api/v1/",timeout:1e4,headers:{"Content-Type":"application/json"}}),this.instance.interceptors.request.use(r=>(this.accesToken&&(r.headers.authorization=this.accesToken),r),r=>Promise.reject(r)),this.instance.interceptors.response.use(r=>{var a;const{url:s}=r.config,n=r.data;return s==="/login"||s==="/register"?(this.accesToken=(a=n.data)==null?void 0:a.access_token,Pr(this.accesToken),Tr(n.data.user)):s==="/logout"&&(this.accesToken="",Lr()),r},r=>{var s,n;if(((s=r.response)==null?void 0:s.status)!==He.UnprocessableEntity){const a=(n=r.response)==null?void 0:n.data,l=(a==null?void 0:a.message)||r.message;Er.error(l)}return Promise.reject(r)})}}const xe=new Ut().instance,qe="productDetails",Bt={getProducts(e){return xe.get(`${qe}/abc`,{params:e})},getProductDetail(e){return xe.get(`${qe}/${e}`)}},$t="categories",Dt={getCategories(){return xe.get($t)}};function Qt(){return t.jsx("div",{className:"lg:flex items-center justify-between mb-4",children:t.jsx("nav",{className:"flex","aria-label":"Breadcrumb",children:t.jsxs("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[t.jsx("li",{children:t.jsx("div",{className:"flex items-center",children:t.jsx(T,{to:"/",className:"text-gray-700 hover:text-blue-600",children:"Trang Chủ"})})}),t.jsx("li",{children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"mx-2",children:"/"}),t.jsx(T,{to:"/manage",className:"text-gray-700 hover:text-blue-600",children:"Sales"})]})}),t.jsx("li",{"aria-current":"page",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"mx-2",children:"/"}),t.jsx("span",{className:"text-gray-500",children:"Danh sách sản phẩm"})]})})]})})})}function Kt(){var a,l,o;const e=Ps(),{data:r}=Oe({queryKey:["products",e],queryFn:()=>Bt.getProducts(e),staleTime:3*60*1e3}),s=((o=(l=(a=r==null?void 0:r.data)==null?void 0:a.data)==null?void 0:l.pagination)==null?void 0:o.page_size)||0,{data:n}=Oe({queryKey:["categories"],queryFn:()=>Dt.getCategories()});return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"py-2 bg-gray-100",children:t.jsx("div",{className:"container mx-auto ml-20",children:t.jsx(Qt,{})})}),t.jsx("div",{className:"bg-gray-200 py-4",children:t.jsx("div",{className:"container mx-auto",children:t.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[t.jsx("div",{className:"col-span-3",children:t.jsx(Es,{queryConfig:e,categories:(n==null?void 0:n.data.data)||[]})}),t.jsxs("div",{className:"col-span-9",children:[t.jsx(Lt,{queryConfig:e,pageSize:s}),t.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:r&&r.data.data.products.map(c=>t.jsx("div",{className:"col-span-1",children:t.jsx(It,{product:c})},c._id))}),t.jsx(Et,{queryConfig:e,pageSize:s})]})]})})})]})}export{Kt as default};
