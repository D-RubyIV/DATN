import{r as o,j as e}from"./index-CmnZOBjS.js";const x=({product:s,onUpdateQuantity:n,onRemove:a})=>{const[l,d]=o.useState(s.quantity),t=()=>{d(r=>r+1),n(s.id,l+1)},c=()=>{l>1&&(d(r=>r-1),n(s.id,l-1))},i=()=>{a(s.id)};return e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 rounded-lg shadow-sm bg-white",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative w-20 h-20",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover rounded-lg"}),e.jsx("button",{onClick:i,className:"absolute top-0 left-0 text-sm transform -translate-x-2 -translate-y-3 bg-red-500 text-white rounded-full p-0.5 hover:bg-red-600 transition duration-200 ease-in-out shadow-md",style:{padding:"0.25rem"},children:"xoá"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:s.name}),e.jsxs("p",{className:"text-gray-600",children:[s.price.toLocaleString()," VND"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:c,className:"px-3 py-1 bg-gray-100 border rounded hover:bg-gray-200",children:"-"}),e.jsx("span",{className:"font-medium",children:l}),e.jsx("button",{onClick:t,className:"px-3 py-1 bg-gray-100 border rounded hover:bg-gray-200",children:"+"})]})]})},h=()=>{const[s,n]=o.useState(()=>{const t=JSON.parse(localStorage.getItem("cart")||"[]");return t.length>0?t:[{id:1,name:"Sản phẩm 1",price:1e5,quantity:1,image:"https://down-vn.img.susercontent.com/file/9dda1448805603bf7e6f72ed863999f8"},{id:2,name:"Sản phẩm 2",price:15e4,quantity:2,image:"https://down-vn.img.susercontent.com/file/9dda1448805603bf7e6f72ed863999f8"},{id:3,name:"Sản phẩm 3",price:2e5,quantity:1,image:"https://down-vn.img.susercontent.com/file/9dda1448805603bf7e6f72ed863999f8"}]}),a=t=>{localStorage.setItem("cart",JSON.stringify(t))},l=(t,c)=>{n(i=>{const r=i.map(m=>m.id===t?{...m,quantity:c}:m);return a(r),r})},d=t=>{n(c=>{const i=c.filter(r=>r.id!==t);return a(i),i})};return e.jsx("div",{className:"p-8",children:e.jsx("div",{className:"space-y-4",children:s.map(t=>e.jsx(x,{product:t,onUpdateQuantity:l,onRemove:d},t.id))})})},g=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Thông tin đơn hàng"}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Tạm tính:"}),e.jsxs("span",{children:[45e4.toLocaleString()," VND"]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Phí vận chuyển:"}),e.jsxs("span",{children:[2e4.toLocaleString()," VND"]})]}),e.jsx("hr",{className:"border-t border-gray-300 my-2"}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Tổng cộng:"}),e.jsxs("span",{children:[47e4.toLocaleString()," VND"]})]}),e.jsx("button",{className:"w-full py-2 mt-4 bg-green-500 text-white rounded hover:bg-green-600",children:"Thanh toán"})]});function f(){const[s,n]=o.useState(0);return o.useEffect(()=>{const a=JSON.parse(localStorage.getItem("cart")||"[]");n(a.length),console.log(typeof a.amount)},[]),e.jsx(o.Fragment,{children:e.jsxs("div",{className:"flex flex-col items-center px-4 py-10 mx-20 space-y-8",children:[e.jsxs("div",{className:"flex justify-between w-full font-bold",children:[e.jsx("h1",{className:"text-2xl",children:"Giỏ hàng của bạn"}),e.jsxs("p",{className:"text-gray-500",children:["Bạn đang có : ",s," sản phẩm trong giỏ hàng"]})]}),e.jsx("hr",{className:"border-green-300 border-t-2 my-4"}),e.jsxs("div",{className:"flex w-full space-x-4",children:[e.jsx("div",{className:"flex-grow border p-4 rounded-lg",style:{flexBasis:"70%"},children:e.jsx(h,{})}),e.jsx("div",{className:"flex-grow border p-4 rounded-lg bg-gray-50",style:{flexBasis:"30%"},children:e.jsx(g,{})})]})]})})}export{f as default};
