import{y as Ba,z as Fa,v as la,bb as $a,r as o,A as T,cu as sa,dj as _a,cv as B,dn as ja,d as tr,ct as Ta,_ as Aa}from"./index-D3Ws-_hT.js";import{j as qa,G as La,K as ca,M as xa,u as Ea,C as za,R as Wa,o as Ua,N as Va,O as va,P as Ka,E as da}from"./context-C2NGSb6_.js";import{c as Br,d as J,a as Ze}from"./useMergedState-CTEh6Pg7.js";var Dt=function(){function e(a,r){Fa(this,e),la(this,"name",void 0),la(this,"style",void 0),la(this,"_keyframe",!0),this.name=a,this.style=r}return Ba(e,[{key:"getName",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return r?"".concat(r,"-").concat(this.name):this.name}}]),e}();const Qa=$a.createContext(void 0),Ie=100,Ga=10,Nt=Ie*Ga,Ra={Modal:Ie,Drawer:Ie,Popover:Ie,Popconfirm:Ie,Tooltip:Ie,Tour:Ie,FloatButton:Ie},Ja={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function Za(e){return e in Ra}const $t=(e,a)=>{const[,r]=qa(),t=$a.useContext(Qa),n=Za(e);let i;if(a!==void 0)i=[a,a];else{let l=t??0;n?l+=(t?0:r.zIndexPopupBase)+Ra[e]:l+=Ja[e],i=[t===void 0?a:l,l]}return i},Tt=(e,a,r)=>r!==void 0?r:`${e}-${a}`,Oa=e=>({animationDuration:e,animationFillMode:"both"}),Xa=e=>({animationDuration:e,animationFillMode:"both"}),Lt=function(e,a,r,t){const i=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${i}${e}-enter,
      ${i}${e}-appear
    `]:Object.assign(Object.assign({},Oa(t)),{animationPlayState:"paused"}),[`${i}${e}-leave`]:Object.assign(Object.assign({},Xa(t)),{animationPlayState:"paused"}),[`
      ${i}${e}-enter${e}-enter-active,
      ${i}${e}-appear${e}-appear-active
    `]:{animationName:a,animationPlayState:"running"},[`${i}${e}-leave${e}-leave-active`]:{animationName:r,animationPlayState:"running",pointerEvents:"none"}}};var Ha=o.createContext(null),ha=[];function Ya(e,a){var r=o.useState(function(){if(!Br())return null;var f=document.createElement("div");return f}),t=T(r,1),n=t[0],i=o.useRef(!1),l=o.useContext(Ha),v=o.useState(ha),h=T(v,2),m=h[0],L=h[1],g=l||(i.current?void 0:function(f){L(function(M){var S=[f].concat(sa(M));return S})});function y(){n.parentElement||document.body.appendChild(n),i.current=!0}function c(){var f;(f=n.parentElement)===null||f===void 0||f.removeChild(n),i.current=!1}return J(function(){return e?l?l(y):y():c(),c},[e]),J(function(){m.length&&(m.forEach(function(f){return f()}),L(ha))},[m]),[n,g]}function pa(e){var a="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),r=document.createElement("div");r.id=a;var t=r.style;t.position="absolute",t.left="0",t.top="0",t.width="100px",t.height="100px",t.overflow="scroll";var n,i;if(e){var l=getComputedStyle(e);t.scrollbarColor=l.scrollbarColor,t.scrollbarWidth=l.scrollbarWidth;var v=getComputedStyle(e,"::-webkit-scrollbar"),h=parseInt(v.width,10),m=parseInt(v.height,10);try{var L=h?"width: ".concat(v.width,";"):"",g=m?"height: ".concat(v.height,";"):"";La(`
#`.concat(a,`::-webkit-scrollbar {
`).concat(L,`
`).concat(g,`
}`),a)}catch(f){console.error(f),n=h,i=m}}document.body.appendChild(r);var y=e&&n&&!isNaN(n)?n:r.offsetWidth-r.clientWidth,c=e&&i&&!isNaN(i)?i:r.offsetHeight-r.clientHeight;return document.body.removeChild(r),ca(a),{width:y,height:c}}function et(e){return typeof document>"u"||!e||!(e instanceof Element)?{width:0,height:0}:pa(e)}function rt(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var at="rc-util-locker-".concat(Date.now()),ga=0;function tt(e){var a=!!e,r=o.useState(function(){return ga+=1,"".concat(at,"_").concat(ga)}),t=T(r,1),n=t[0];J(function(){if(a){var i=et(document.body).width,l=rt();La(`
html body {
  overflow-y: hidden;
  `.concat(l?"width: calc(100% - ".concat(i,"px);"):"",`
}`),n)}else ca(n);return function(){ca(n)}},[a,n])}var nt=!1;function ot(e){return nt}var ya=function(a){return a===!1?!1:!Br()||!a?null:typeof a=="string"?document.querySelector(a):typeof a=="function"?a():a},Ia=o.forwardRef(function(e,a){var r=e.open,t=e.autoLock,n=e.getContainer;e.debug;var i=e.autoDestroy,l=i===void 0?!0:i,v=e.children,h=o.useState(r),m=T(h,2),L=m[0],g=m[1],y=L||r;o.useEffect(function(){(l||r)&&g(r)},[r,l]);var c=o.useState(function(){return ya(n)}),f=T(c,2),M=f[0],S=f[1];o.useEffect(function(){var te=ya(n);S(te??null)});var D=Ya(y&&!M),E=T(D,2),N=E[0],F=E[1],W=M??N;tt(t&&r&&Br()&&(W===N||W===document.body));var d=null;if(v&&xa(v)&&a){var ce=v;d=ce.ref}var ve=Ea(d,a);if(!y||!Br()||M===void 0)return null;var ae=W===!1||ot(),Z=v;return a&&(Z=o.cloneElement(v,{ref:ve})),o.createElement(Ha.Provider,{value:F},ae?Z:_a.createPortal(Z,W))});function it(){var e=B({},ja);return e.useId}var wa=0,ba=it();const ut=ba?function(a){var r=ba();return a||r}:function(a){var r=o.useState("ssr-id"),t=T(r,2),n=t[0],i=t[1];return o.useEffect(function(){var l=wa;wa+=1,i("rc_unique_".concat(l))},[]),a||n},lt=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};function st(e){var a=e.prefixCls,r=e.align,t=e.arrow,n=e.arrowPos,i=t||{},l=i.className,v=i.content,h=n.x,m=h===void 0?0:h,L=n.y,g=L===void 0?0:L,y=o.useRef();if(!r||!r.points)return null;var c={position:"absolute"};if(r.autoArrow!==!1){var f=r.points[0],M=r.points[1],S=f[0],D=f[1],E=M[0],N=M[1];S===E||!["t","b"].includes(S)?c.top=g:S==="t"?c.top=0:c.bottom=0,D===N||!["l","r"].includes(D)?c.left=m:D==="l"?c.left=0:c.right=0}return o.createElement("div",{ref:y,className:tr("".concat(a,"-arrow"),l),style:c},v)}function ct(e){var a=e.prefixCls,r=e.open,t=e.zIndex,n=e.mask,i=e.motion;return n?o.createElement(za,Ta({},i,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(l){var v=l.className;return o.createElement("div",{style:{zIndex:t},className:tr("".concat(a,"-mask"),v)})}):null}var vt=o.memo(function(e){var a=e.children;return a},function(e,a){return a.cache}),dt=o.forwardRef(function(e,a){var r=e.popup,t=e.className,n=e.prefixCls,i=e.style,l=e.target,v=e.onVisibleChanged,h=e.open,m=e.keepDom,L=e.fresh,g=e.onClick,y=e.mask,c=e.arrow,f=e.arrowPos,M=e.align,S=e.motion,D=e.maskMotion,E=e.forceRender,N=e.getPopupContainer,F=e.autoDestroy,W=e.portal,d=e.zIndex,ce=e.onMouseEnter,ve=e.onMouseLeave,ae=e.onPointerEnter,Z=e.onPointerDownCapture,te=e.ready,Ce=e.offsetX,Me=e.offsetY,de=e.offsetR,Se=e.offsetB,V=e.onAlign,Pe=e.onPrepare,H=e.stretch,_=e.targetWidth,w=e.targetHeight,Be=typeof r=="function"?r():r,ne=h||m,I=(N==null?void 0:N.length)>0,b=o.useState(!N||!I),K=T(b,2),Fe=K[0],nr=K[1];if(J(function(){!Fe&&I&&l&&nr(!0)},[Fe,I,l]),!Fe)return null;var fe="auto",Q={left:"-1000vw",top:"-1000vh",right:fe,bottom:fe};if(te||!h){var $e,_e=M.points,O=M.dynamicInset||(($e=M._experimental)===null||$e===void 0?void 0:$e.dynamicInset),me=O&&_e[0][1]==="r",oe=O&&_e[0][0]==="b";me?(Q.right=de,Q.left=fe):(Q.left=Ce,Q.right=fe),oe?(Q.bottom=Se,Q.top=fe):(Q.top=Me,Q.bottom=fe)}var U={};return H&&(H.includes("height")&&w?U.height=w:H.includes("minHeight")&&w&&(U.minHeight=w),H.includes("width")&&_?U.width=_:H.includes("minWidth")&&_&&(U.minWidth=_)),h||(U.pointerEvents="none"),o.createElement(W,{open:E||ne,getContainer:N&&function(){return N(l)},autoDestroy:F},o.createElement(ct,{prefixCls:n,open:h,zIndex:d,mask:y,motion:D}),o.createElement(Wa,{onResize:V,disabled:!h},function(or){return o.createElement(za,Ta({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:E,leavedClassName:"".concat(n,"-hidden")},S,{onAppearPrepare:Pe,onEnterPrepare:Pe,visible:h,onVisibleChanged:function(X){var he;S==null||(he=S.onVisibleChanged)===null||he===void 0||he.call(S,X),v(X)}}),function(Te,X){var he=Te.className,je=Te.style,j=tr(n,he,t);return o.createElement("div",{ref:Ua(or,a,X),className:j,style:B(B(B(B({"--arrow-x":"".concat(f.x||0,"px"),"--arrow-y":"".concat(f.y||0,"px")},Q),U),je),{},{boxSizing:"border-box",zIndex:d},i),onMouseEnter:ce,onMouseLeave:ve,onPointerEnter:ae,onClick:g,onPointerDownCapture:Z},c&&o.createElement(st,{prefixCls:n,arrow:c,arrowPos:f,align:M}),o.createElement(vt,{cache:!h&&!L},Be))})}))}),ft=o.forwardRef(function(e,a){var r=e.children,t=e.getTriggerDOMNode,n=xa(r),i=o.useCallback(function(v){Va(a,t?t(v):v)},[t]),l=Ea(i,r.ref);return n?o.cloneElement(r,{ref:l}):r}),Ca=o.createContext(null);function Ma(e){return e?Array.isArray(e)?e:[e]:[]}function mt(e,a,r,t){return o.useMemo(function(){var n=Ma(r??a),i=Ma(t??a),l=new Set(n),v=new Set(i);return e&&(l.has("hover")&&(l.delete("hover"),l.add("click")),v.has("hover")&&(v.delete("hover"),v.add("click"))),[l,v]},[e,a,r,t])}function ht(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===a[0]:e[0]===a[0]&&e[1]===a[1]}function gt(e,a,r,t){for(var n=r.points,i=Object.keys(e),l=0;l<i.length;l+=1){var v,h=i[l];if(ht((v=e[h])===null||v===void 0?void 0:v.points,n,t))return"".concat(a,"-placement-").concat(h)}return""}function Sa(e,a,r,t){return a||(r?{motionName:"".concat(e,"-").concat(r)}:t?{motionName:t}:null)}function gr(e){return e.ownerDocument.defaultView}function fa(e){for(var a=[],r=e==null?void 0:e.parentElement,t=["hidden","scroll","clip","auto"];r;){var n=gr(r).getComputedStyle(r),i=n.overflowX,l=n.overflowY,v=n.overflow;[i,l,v].some(function(h){return t.includes(h)})&&a.push(r),r=r.parentElement}return a}function hr(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?a:e}function mr(e){return hr(parseFloat(e),0)}function Pa(e,a){var r=B({},e);return(a||[]).forEach(function(t){if(!(t instanceof HTMLBodyElement||t instanceof HTMLHtmlElement)){var n=gr(t).getComputedStyle(t),i=n.overflow,l=n.overflowClipMargin,v=n.borderTopWidth,h=n.borderBottomWidth,m=n.borderLeftWidth,L=n.borderRightWidth,g=t.getBoundingClientRect(),y=t.offsetHeight,c=t.clientHeight,f=t.offsetWidth,M=t.clientWidth,S=mr(v),D=mr(h),E=mr(m),N=mr(L),F=hr(Math.round(g.width/f*1e3)/1e3),W=hr(Math.round(g.height/y*1e3)/1e3),d=(f-M-E-N)*F,ce=(y-c-S-D)*W,ve=S*W,ae=D*W,Z=E*F,te=N*F,Ce=0,Me=0;if(i==="clip"){var de=mr(l);Ce=de*F,Me=de*W}var Se=g.x+Z-Ce,V=g.y+ve-Me,Pe=Se+g.width+2*Ce-Z-te-d,H=V+g.height+2*Me-ve-ae-ce;r.left=Math.max(r.left,Se),r.top=Math.max(r.top,V),r.right=Math.min(r.right,Pe),r.bottom=Math.min(r.bottom,H)}}),r}function ka(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(a),t=r.match(/^(.*)\%$/);return t?e*(parseFloat(t[1])/100):parseFloat(r)}function Da(e,a){var r=a||[],t=T(r,2),n=t[0],i=t[1];return[ka(e.width,n),ka(e.height,i)]}function Na(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function ar(e,a){var r=a[0],t=a[1],n,i;return r==="t"?i=e.y:r==="b"?i=e.y+e.height:i=e.y+e.height/2,t==="l"?n=e.x:t==="r"?n=e.x+e.width:n=e.x+e.width/2,{x:n,y:i}}function He(e,a){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(t,n){return n===a?r[t]||"c":t}).join("")}function yt(e,a,r,t,n,i,l){var v=o.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:n[t]||{}}),h=T(v,2),m=h[0],L=h[1],g=o.useRef(0),y=o.useMemo(function(){return a?fa(a):[]},[a]),c=o.useRef({}),f=function(){c.current={}};e||f();var M=Ze(function(){if(a&&r&&e){let re=function(rr,We){var Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yr,fr=b.x+rr,Rr=b.y+We,na=fr+me,oa=Rr+O,ia=Math.max(fr,Re.left),u=Math.max(Rr,Re.top),s=Math.min(na,Re.right),$=Math.min(oa,Re.bottom);return Math.max(0,(s-ia)*($-u))},Wr=function(){Ve=b.y+k,Ke=Ve+O,De=b.x+C,Xe=De+me};var E,N,F,W,d=a,ce=d.ownerDocument,ve=gr(d),ae=ve.getComputedStyle(d),Z=ae.width,te=ae.height,Ce=ae.position,Me=d.style.left,de=d.style.top,Se=d.style.right,V=d.style.bottom,Pe=d.style.overflow,H=B(B({},n[t]),i),_=ce.createElement("div");(E=d.parentElement)===null||E===void 0||E.appendChild(_),_.style.left="".concat(d.offsetLeft,"px"),_.style.top="".concat(d.offsetTop,"px"),_.style.position=Ce,_.style.height="".concat(d.offsetHeight,"px"),_.style.width="".concat(d.offsetWidth,"px"),d.style.left="0",d.style.top="0",d.style.right="auto",d.style.bottom="auto",d.style.overflow="hidden";var w;if(Array.isArray(r))w={x:r[0],y:r[1],width:0,height:0};else{var Be,ne,I=r.getBoundingClientRect();I.x=(Be=I.x)!==null&&Be!==void 0?Be:I.left,I.y=(ne=I.y)!==null&&ne!==void 0?ne:I.top,w={x:I.x,y:I.y,width:I.width,height:I.height}}var b=d.getBoundingClientRect();b.x=(N=b.x)!==null&&N!==void 0?N:b.left,b.y=(F=b.y)!==null&&F!==void 0?F:b.top;var K=ce.documentElement,Fe=K.clientWidth,nr=K.clientHeight,fe=K.scrollWidth,Q=K.scrollHeight,$e=K.scrollTop,_e=K.scrollLeft,O=b.height,me=b.width,oe=w.height,U=w.width,or={left:0,top:0,right:Fe,bottom:nr},Te={left:-_e,top:-$e,right:fe-_e,bottom:Q-$e},X=H.htmlRegion,he="visible",je="visibleFirst";X!=="scroll"&&X!==je&&(X=he);var j=X===je,Fr=Pa(Te,y),P=Pa(or,y),yr=X===he?P:Fr,Ae=j?P:yr;d.style.left="auto",d.style.top="auto",d.style.right="0",d.style.bottom="0";var A=d.getBoundingClientRect();d.style.left=Me,d.style.top=de,d.style.right=Se,d.style.bottom=V,d.style.overflow=Pe,(W=d.parentElement)===null||W===void 0||W.removeChild(_);var Le=hr(Math.round(me/parseFloat(Z)*1e3)/1e3),ke=hr(Math.round(O/parseFloat(te)*1e3)/1e3);if(Le===0||ke===0||va(r)&&!Ka(r))return;var _r=H.offset,jr=H.targetOffset,wr=Da(b,_r),ie=T(wr,2),ue=ie[0],Y=ie[1],Ar=Da(w,jr),qe=T(Ar,2),p=qe[0],xe=qe[1];w.x-=p,w.y-=xe;var qr=H.points||[],br=T(qr,2),Ur=br[0],Vr=br[1],ge=Na(Vr),G=Na(Ur),ir=ar(w,ge),q=ar(b,G),Ee=B({},H),C=ir.x-q.x+ue,k=ir.y-q.y+Y,le=re(C,k),Ue=re(C,k,P),ur=ar(w,["t","l"]),ee=ar(b,["t","l"]),Cr=ar(w,["b","r"]),lr=ar(b,["b","r"]),ze=H.overflow||{},Mr=ze.adjustX,Kr=ze.adjustY,sr=ze.shiftX,Oe=ze.shiftY,cr=function(We){return typeof We=="boolean"?We:We>=0},Ve,Ke,De,Xe;Wr();var Qe=cr(Kr),Sr=G[0]===ge[0];if(Qe&&G[0]==="t"&&(Ke>Ae.bottom||c.current.bt)){var R=k;Sr?R-=O-oe:R=ur.y-lr.y-Y;var Pr=re(C,R),Qr=re(C,R,P);Pr>le||Pr===le&&(!j||Qr>=Ue)?(c.current.bt=!0,k=R,Y=-Y,Ee.points=[He(G,0),He(ge,0)]):c.current.bt=!1}if(Qe&&G[0]==="b"&&(Ve<Ae.top||c.current.tb)){var Ge=k;Sr?Ge+=O-oe:Ge=Cr.y-ee.y-Y;var kr=re(C,Ge),Gr=re(C,Ge,P);kr>le||kr===le&&(!j||Gr>=Ue)?(c.current.tb=!0,k=Ge,Y=-Y,Ee.points=[He(G,0),He(ge,0)]):c.current.tb=!1}var Dr=cr(Mr),Nr=G[1]===ge[1];if(Dr&&G[1]==="l"&&(Xe>Ae.right||c.current.rl)){var Je=C;Nr?Je-=me-U:Je=ur.x-lr.x-ue;var $r=re(Je,k),Ye=re(Je,k,P);$r>le||$r===le&&(!j||Ye>=Ue)?(c.current.rl=!0,C=Je,ue=-ue,Ee.points=[He(G,1),He(ge,1)]):c.current.rl=!1}if(Dr&&G[1]==="r"&&(De<Ae.left||c.current.lr)){var Ne=C;Nr?Ne+=me-U:Ne=Cr.x-ee.x-ue;var Tr=re(Ne,k),Lr=re(Ne,k,P);Tr>le||Tr===le&&(!j||Lr>=Ue)?(c.current.lr=!0,C=Ne,ue=-ue,Ee.points=[He(G,1),He(ge,1)]):c.current.lr=!1}Wr();var ye=sr===!0?0:sr;typeof ye=="number"&&(De<P.left&&(C-=De-P.left-ue,w.x+U<P.left+ye&&(C+=w.x-P.left+U-ye)),Xe>P.right&&(C-=Xe-P.right-ue,w.x>P.right-ye&&(C+=w.x-P.right+ye)));var se=Oe===!0?0:Oe;typeof se=="number"&&(Ve<P.top&&(k-=Ve-P.top-Y,w.y+oe<P.top+se&&(k+=w.y-P.top+oe-se)),Ke>P.bottom&&(k-=Ke-P.bottom-Y,w.y>P.bottom-se&&(k+=w.y-P.bottom+se)));var pe=b.x+C,er=pe+me,we=b.y+k,Jr=we+O,xr=w.x,Zr=xr+U,vr=w.y,Or=vr+oe,Xr=Math.max(pe,xr),Yr=Math.min(er,Zr),Er=(Xr+Yr)/2,pr=Er-pe,ea=Math.max(we,vr),zr=Math.min(Jr,Or),ra=(ea+zr)/2,aa=ra-we;l==null||l(a,Ee);var dr=A.right-b.x-(C+b.width),be=A.bottom-b.y-(k+b.height);Le===1&&(C=Math.round(C),dr=Math.round(dr)),ke===1&&(k=Math.round(k),be=Math.round(be));var ta={ready:!0,offsetX:C/Le,offsetY:k/ke,offsetR:dr/Le,offsetB:be/ke,arrowX:pr/Le,arrowY:aa/ke,scaleX:Le,scaleY:ke,align:Ee};L(ta)}}),S=function(){g.current+=1;var N=g.current;Promise.resolve().then(function(){g.current===N&&M()})},D=function(){L(function(N){return B(B({},N),{},{ready:!1})})};return J(D,[t]),J(function(){e||D()},[e]),[m.ready,m.offsetX,m.offsetY,m.offsetR,m.offsetB,m.arrowX,m.arrowY,m.scaleX,m.scaleY,m.align,S]}function wt(e,a,r,t,n){J(function(){if(e&&a&&r){let g=function(){t(),n()};var i=a,l=r,v=fa(i),h=fa(l),m=gr(l),L=new Set([m].concat(sa(v),sa(h)));return L.forEach(function(y){y.addEventListener("scroll",g,{passive:!0})}),m.addEventListener("resize",g,{passive:!0}),t(),function(){L.forEach(function(y){y.removeEventListener("scroll",g),m.removeEventListener("resize",g)})}}},[e,a,r])}function bt(e,a,r,t,n,i,l,v){var h=o.useRef(e);h.current=e;var m=o.useRef(!1);o.useEffect(function(){if(a&&t&&(!n||i)){var g=function(){m.current=!1},y=function(S){var D;h.current&&!l(((D=S.composedPath)===null||D===void 0||(D=D.call(S))===null||D===void 0?void 0:D[0])||S.target)&&!m.current&&v(!1)},c=gr(t);c.addEventListener("pointerdown",g,!0),c.addEventListener("mousedown",y,!0),c.addEventListener("contextmenu",y,!0);var f=da(r);return f&&(f.addEventListener("mousedown",y,!0),f.addEventListener("contextmenu",y,!0)),function(){c.removeEventListener("pointerdown",g,!0),c.removeEventListener("mousedown",y,!0),c.removeEventListener("contextmenu",y,!0),f&&(f.removeEventListener("mousedown",y,!0),f.removeEventListener("contextmenu",y,!0))}}},[a,r,t,n,i]);function L(){m.current=!0}return L}var Ct=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Mt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ia,a=o.forwardRef(function(r,t){var n=r.prefixCls,i=n===void 0?"rc-trigger-popup":n,l=r.children,v=r.action,h=v===void 0?"hover":v,m=r.showAction,L=r.hideAction,g=r.popupVisible,y=r.defaultPopupVisible,c=r.onPopupVisibleChange,f=r.afterPopupVisibleChange,M=r.mouseEnterDelay,S=r.mouseLeaveDelay,D=S===void 0?.1:S,E=r.focusDelay,N=r.blurDelay,F=r.mask,W=r.maskClosable,d=W===void 0?!0:W,ce=r.getPopupContainer,ve=r.forceRender,ae=r.autoDestroy,Z=r.destroyPopupOnHide,te=r.popup,Ce=r.popupClassName,Me=r.popupStyle,de=r.popupPlacement,Se=r.builtinPlacements,V=Se===void 0?{}:Se,Pe=r.popupAlign,H=r.zIndex,_=r.stretch,w=r.getPopupClassNameFromAlign,Be=r.fresh,ne=r.alignPoint,I=r.onPopupClick,b=r.onPopupAlign,K=r.arrow,Fe=r.popupMotion,nr=r.maskMotion,fe=r.popupTransitionName,Q=r.popupAnimation,$e=r.maskTransitionName,_e=r.maskAnimation,O=r.className,me=r.getTriggerDOMNode,oe=Aa(r,Ct),U=ae||Z||!1,or=o.useState(!1),Te=T(or,2),X=Te[0],he=Te[1];J(function(){he(lt())},[]);var je=o.useRef({}),j=o.useContext(Ca),Fr=o.useMemo(function(){return{registerSubPopup:function(s,$){je.current[s]=$,j==null||j.registerSubPopup(s,$)}}},[j]),P=ut(),yr=o.useState(null),Ae=T(yr,2),A=Ae[0],Le=Ae[1],ke=o.useRef(null),_r=Ze(function(u){ke.current=u,va(u)&&A!==u&&Le(u),j==null||j.registerSubPopup(P,u)}),jr=o.useState(null),wr=T(jr,2),ie=wr[0],ue=wr[1],Y=o.useRef(null),Ar=Ze(function(u){va(u)&&ie!==u&&(ue(u),Y.current=u)}),qe=o.Children.only(l),p=(qe==null?void 0:qe.props)||{},xe={},qr=Ze(function(u){var s,$,z=ie;return(z==null?void 0:z.contains(u))||((s=da(z))===null||s===void 0?void 0:s.host)===u||u===z||(A==null?void 0:A.contains(u))||(($=da(A))===null||$===void 0?void 0:$.host)===u||u===A||Object.values(je.current).some(function(x){return(x==null?void 0:x.contains(u))||u===x})}),br=Sa(i,Fe,Q,fe),Ur=Sa(i,nr,_e,$e),Vr=o.useState(y||!1),ge=T(Vr,2),G=ge[0],ir=ge[1],q=g??G,Ee=Ze(function(u){g===void 0&&ir(u)});J(function(){ir(g||!1)},[g]);var C=o.useRef(q);C.current=q;var k=o.useRef([]);k.current=[];var le=Ze(function(u){var s;Ee(u),((s=k.current[k.current.length-1])!==null&&s!==void 0?s:q)!==u&&(k.current.push(u),c==null||c(u))}),Ue=o.useRef(),ur=function(){clearTimeout(Ue.current)},ee=function(s){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ur(),$===0?le(s):Ue.current=setTimeout(function(){le(s)},$*1e3)};o.useEffect(function(){return ur},[]);var Cr=o.useState(!1),lr=T(Cr,2),ze=lr[0],Mr=lr[1];J(function(u){(!u||q)&&Mr(!0)},[q]);var Kr=o.useState(null),sr=T(Kr,2),Oe=sr[0],cr=sr[1],Ve=o.useState(null),Ke=T(Ve,2),De=Ke[0],Xe=Ke[1],Qe=function(s){Xe([s.clientX,s.clientY])},Sr=yt(q,A,ne&&De!==null?De:ie,de,V,Pe,b),R=T(Sr,11),Pr=R[0],Qr=R[1],Ge=R[2],kr=R[3],Gr=R[4],Dr=R[5],Nr=R[6],Je=R[7],$r=R[8],Ye=R[9],Ne=R[10],Tr=mt(X,h,m,L),Lr=T(Tr,2),ye=Lr[0],se=Lr[1],pe=ye.has("click"),er=se.has("click")||se.has("contextMenu"),we=Ze(function(){ze||Ne()}),Jr=function(){C.current&&ne&&er&&ee(!1)};wt(q,ie,A,we,Jr),J(function(){we()},[De,de]),J(function(){q&&!(V!=null&&V[de])&&we()},[JSON.stringify(Pe)]);var xr=o.useMemo(function(){var u=gt(V,i,Ye,ne);return tr(u,w==null?void 0:w(Ye))},[Ye,w,V,i,ne]);o.useImperativeHandle(t,function(){return{nativeElement:Y.current,popupElement:ke.current,forceAlign:we}});var Zr=o.useState(0),vr=T(Zr,2),Or=vr[0],Xr=vr[1],Yr=o.useState(0),Er=T(Yr,2),pr=Er[0],ea=Er[1],zr=function(){if(_&&ie){var s=ie.getBoundingClientRect();Xr(s.width),ea(s.height)}},ra=function(){zr(),we()},aa=function(s){Mr(!1),Ne(),f==null||f(s)},dr=function(){return new Promise(function(s){zr(),cr(function(){return s})})};J(function(){Oe&&(Ne(),Oe(),cr(null))},[Oe]);function be(u,s,$,z){xe[u]=function(x){var Hr;z==null||z(x),ee(s,$);for(var ua=arguments.length,ma=new Array(ua>1?ua-1:0),Ir=1;Ir<ua;Ir++)ma[Ir-1]=arguments[Ir];(Hr=p[u])===null||Hr===void 0||Hr.call.apply(Hr,[p,x].concat(ma))}}(pe||er)&&(xe.onClick=function(u){var s;C.current&&er?ee(!1):!C.current&&pe&&(Qe(u),ee(!0));for(var $=arguments.length,z=new Array($>1?$-1:0),x=1;x<$;x++)z[x-1]=arguments[x];(s=p.onClick)===null||s===void 0||s.call.apply(s,[p,u].concat(z))});var ta=bt(q,er,ie,A,F,d,qr,ee),re=ye.has("hover"),Wr=se.has("hover"),rr,We;re&&(be("onMouseEnter",!0,M,function(u){Qe(u)}),be("onPointerEnter",!0,M,function(u){Qe(u)}),rr=function(s){(q||ze)&&A!==null&&A!==void 0&&A.contains(s.target)&&ee(!0,M)},ne&&(xe.onMouseMove=function(u){var s;(s=p.onMouseMove)===null||s===void 0||s.call(p,u)})),Wr&&(be("onMouseLeave",!1,D),be("onPointerLeave",!1,D),We=function(){ee(!1,D)}),ye.has("focus")&&be("onFocus",!0,E),se.has("focus")&&be("onBlur",!1,N),ye.has("contextMenu")&&(xe.onContextMenu=function(u){var s;C.current&&se.has("contextMenu")?ee(!1):(Qe(u),ee(!0)),u.preventDefault();for(var $=arguments.length,z=new Array($>1?$-1:0),x=1;x<$;x++)z[x-1]=arguments[x];(s=p.onContextMenu)===null||s===void 0||s.call.apply(s,[p,u].concat(z))}),O&&(xe.className=tr(p.className,O));var Re=B(B({},p),xe),fr={},Rr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Rr.forEach(function(u){oe[u]&&(fr[u]=function(){for(var s,$=arguments.length,z=new Array($),x=0;x<$;x++)z[x]=arguments[x];(s=Re[u])===null||s===void 0||s.call.apply(s,[Re].concat(z)),oe[u].apply(oe,z)})});var na=o.cloneElement(qe,B(B({},Re),fr)),oa={x:Dr,y:Nr},ia=K?B({},K!==!0?K:{}):null;return o.createElement(o.Fragment,null,o.createElement(Wa,{disabled:!q,ref:Ar,onResize:ra},o.createElement(ft,{getTriggerDOMNode:me},na)),o.createElement(Ca.Provider,{value:Fr},o.createElement(dt,{portal:e,ref:_r,prefixCls:i,popup:te,className:tr(Ce,xr),style:Me,target:ie,onMouseEnter:rr,onMouseLeave:We,onPointerEnter:rr,zIndex:H,open:q,keepDom:ze,fresh:Be,onClick:I,onPointerDownCapture:ta,mask:F,motion:br,maskMotion:Ur,onVisibleChanged:aa,onPrepare:dr,forceRender:ve,autoDestroy:U,getPopupContainer:ce,align:Ye,arrow:ia,arrowPos:oa,ready:Pr,offsetX:Qr,offsetY:Ge,offsetR:kr,offsetB:Gr,onAlign:we,stretch:_,targetWidth:Or/Je,targetHeight:pr/$r})))});return a}const xt=Mt(Ia);export{Nt as C,Dt as K,Ia as P,xt as T,$t as a,lt as b,Tt as g,Lt as i,ut as u,Qa as z};
